<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better Me - ë©”ì´í¬ì—… íŒ ê²°ê³¼</title>
    <link rel="stylesheet" href="styles.css?v=18">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BVF6W1YC2F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      gtag('js', new Date());
      gtag('config', 'G-BVF6W1YC2F');
    </script>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="logo-container">
            <img src="better-me-logo.png" alt="Better Me" class="main-logo">
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="main-content">
        <!-- ë‹¨ê³„ë³„ ì§„í–‰ í‘œì‹œ -->
        <div class="progress-steps">
            <div class="step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">ì‚¬ì§„ í™œìš© ë™ì˜</div>
            </div>
            <div class="step active" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">ì‚¬ì§„ ì—…ë¡œë“œ</div>
            </div>
            <div class="step active" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">ë©”ì´í¬ì—… íŒ ë¶„ì„</div>
            </div>
            <div class="step active" data-step="4">
                <div class="step-number">4</div>
                <div class="step-label">ê²°ê³¼ í™•ì¸</div>
            </div>
        </div>

        <!-- 4ë‹¨ê³„: ë©”ì´í¬ì—… íŒ ë¶„ì„ ê²°ê³¼ -->
        <div class="step-panel active" id="step-4">
            <h2>íŒ ì œì‘ ê²°ê³¼</h2>
            
            <!-- ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë“¤ í‘œì‹œ -->
            <div class="uploaded-image-section">
                <div class="analysis-images-grid">
                    <div class="analysis-image-item">
                        <h4><i class="fas fa-user"></i> ì •ë©´ ì‚¬ì§„</h4>
                        <img id="step4-uploaded-image-front" src="" alt="ì •ë©´ ì‚¬ì§„" class="analysis-image">
                    </div>
                    <div class="analysis-image-item">
                        <h4><i class="fas fa-user-friends"></i> 45ë„ ì¸¡ë©´ ì‚¬ì§„</h4>
                        <img id="step4-uploaded-image-45" src="" alt="45ë„ ì¸¡ë©´ ì‚¬ì§„" class="analysis-image">
                    </div>
                    <div class="analysis-image-item">
                        <h4><i class="fas fa-user-secret"></i> 90ë„ ì¸¡ë©´ ì‚¬ì§„</h4>
                        <img id="step4-uploaded-image-90" src="" alt="90ë„ ì¸¡ë©´ ì‚¬ì§„" class="analysis-image">
                    </div>
                </div>
            </div>
            
            <div class="feedback-container">
                <div class="feedback-details">
                    <div class="complete-analysis">
                        <div class="analysis-content" id="complete-analysis-content">
                            <p>íŒ ì œì‘ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step-buttons">
                <button class="btn btn-success" onclick="saveStep4AsImage()" id="save-step4">
                    <i class="fas fa-image"></i> ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°
                </button>
                <button class="btn btn-primary" onclick="goToPayment()" id="tip-creation-btn">
                    <i class="fas fa-palette"></i> í—¤ì–´/ë©”ì´í¬ì—… íŒ ì œì‘í•˜ê¸°
                </button>
            </div>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <p>&copy; 2024 Better Me. All rights reserved.</p>
                <p>ì¸ì²œê´‘ì—­ì‹œ ê³„ì–‘êµ¬ ì„œìš´ì‚°ë‹¨ë¡œ1ê¸¸ 19 (ì„œìš´ë™) DSE 320í˜¸</p>
            </div>
        </div>
    </footer>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let analysisResults = null;
        let uploadedImages = null;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ë©”ì´í¬ì—… íŒ ê²°ê³¼ í˜ì´ì§€ ë¡œë“œë¨');
            
            // DOM ìš”ì†Œ ì¡´ì¬ í™•ì¸
            const analysisContent = document.getElementById('complete-analysis-content');
            console.log('ë¶„ì„ ê²°ê³¼ ì»¨í…Œì´ë„ˆ ìš”ì†Œ:', analysisContent);
            
            if (analysisContent) {
                console.log('ë¶„ì„ ê²°ê³¼ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼:', window.getComputedStyle(analysisContent));
                console.log('ë¶„ì„ ê²°ê³¼ ì»¨í…Œì´ë„ˆ í¬ê¸°:', analysisContent.offsetWidth, 'x', analysisContent.offsetHeight);
            }
            
            loadMakeupTipsResults();
            loadUploadedImages();
        });

        // ë©”ì´í¬ì—… íŒ ê²°ê³¼ ë¡œë“œ
        function loadMakeupTipsResults() {
            try {
                const savedResults = sessionStorage.getItem('beautyAI_makeupTipsResults');
                console.log('ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ê°€ì ¸ì˜¨ ë©”ì´í¬ì—… íŒ ê²°ê³¼:', savedResults);
                
                if (savedResults) {
                    analysisResults = JSON.parse(savedResults);
                    console.log('íŒŒì‹±ëœ ë©”ì´í¬ì—… íŒ ê²°ê³¼:', analysisResults);
                    displayFullAIResponse(analysisResults);
                    console.log('ë©”ì´í¬ì—… íŒ ê²°ê³¼ ë¡œë“œ ì™„ë£Œ');
                } else {
                    console.error('ë©”ì´í¬ì—… íŒ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    const analysisContent = document.getElementById('complete-analysis-content');
                    if (analysisContent) {
                        analysisContent.innerHTML = '<div class="error-message">íŒ ì œì‘ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
                    }
                }
            } catch (error) {
                console.error('ë©”ì´í¬ì—… íŒ ê²°ê³¼ ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        // ì—…ë¡œë“œëœ ì´ë¯¸ì§€ ë¡œë“œ ë° í‘œì‹œ
        function loadUploadedImages() {
            try {
                const savedImages = sessionStorage.getItem('beautyAI_uploadedImages');
                if (savedImages) {
                    uploadedImages = JSON.parse(savedImages);
                    displayStep4Images();
                    console.log('ì—…ë¡œë“œëœ ì´ë¯¸ì§€ ë¡œë“œ ì™„ë£Œ');
                } else {
                    console.error('ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
            } catch (error) {
                console.error('ì´ë¯¸ì§€ ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        // 4ë‹¨ê³„ ì´ë¯¸ì§€ í‘œì‹œ
        function displayStep4Images() {
            if (!uploadedImages) return;

            // ì •ë©´ ì´ë¯¸ì§€ í‘œì‹œ
            if (uploadedImages.front && uploadedImages.front.dataUrl) {
                const frontPreview = document.getElementById('step4-uploaded-image-front');
                if (frontPreview) {
                    frontPreview.src = uploadedImages.front.dataUrl;
                }
            }

            // 45ë„ ì¸¡ë©´ ì´ë¯¸ì§€ í‘œì‹œ
            if (uploadedImages['45'] && uploadedImages['45'].dataUrl) {
                const side45Preview = document.getElementById('step4-uploaded-image-45');
                if (side45Preview) {
                    side45Preview.src = uploadedImages['45'].dataUrl;
                }
            }

            // 90ë„ ì¸¡ë©´ ì´ë¯¸ì§€ í‘œì‹œ
            if (uploadedImages['90'] && uploadedImages['90'].dataUrl) {
                const side90Preview = document.getElementById('step4-uploaded-image-90');
                if (side90Preview) {
                    side90Preview.src = uploadedImages['90'].dataUrl;
                }
            }
        }

        // AI ì‘ë‹µ í‘œì‹œ (ì–¼êµ´ë¶„ì„ê³¼ ë™ì¼í•œ êµ¬ì¡°)
        function displayFullAIResponse(analysisData) {
            try {
                const analysisContent = document.getElementById('complete-analysis-content');
                if (!analysisContent) {
                    console.error('ë¶„ì„ ê²°ê³¼ í‘œì‹œ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }

                if (!analysisData || !analysisData.raw_analysis) {
                    console.error('ë¶„ì„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤:', analysisData);
                    analysisContent.innerHTML = '<p>ë¶„ì„ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
                    return;
                }

                // AI ë¶„ì„ ê²°ê³¼ë¥¼ ì–¼êµ´ë¶„ì„ê³¼ ë™ì¼í•œ formatAnalysisResult í•¨ìˆ˜ë¡œ êµ¬ì¡°í™”
                const analysisText = analysisData.raw_analysis;
                console.log('ì›ë³¸ ë¶„ì„ í…ìŠ¤íŠ¸:', analysisText);
                const formattedContent = formatAnalysisResult(analysisText);
                console.log('í¬ë§·ëœ HTML ì½˜í…ì¸ :', formattedContent);
                analysisContent.innerHTML = formattedContent;
                
                console.log('AI ì‘ë‹µ í‘œì‹œ ì™„ë£Œ');
            } catch (error) {
                console.error('AI ì‘ë‹µ í‘œì‹œ ì¤‘ ì˜¤ë¥˜:', error);
                const analysisContent = document.getElementById('complete-analysis-content');
                if (analysisContent) {
                    analysisContent.innerHTML = '<p>ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>';
                }
            }
        }

        // ë¶„ì„ ê²°ê³¼ë¥¼ Figma ë””ìì¸ì— ë§ê²Œ êµ¬ì¡°í™”ëœ HTMLë¡œ ë³€í™˜ (ì–¼êµ´ë¶„ì„ê³¼ ë™ì¼)
        function formatAnalysisResult(text) {
            if (!text) {
                console.log('formatAnalysisResult: ë¹ˆ í…ìŠ¤íŠ¸');
                return '';
            }
            
            console.log('formatAnalysisResult ì‹œì‘, í…ìŠ¤íŠ¸ ê¸¸ì´:', text.length);
            
            // í…ìŠ¤íŠ¸ë¥¼ ì¤„ ë‹¨ìœ„ë¡œ ë¶„í• 
            const lines = text.split('\n').filter(line => line.trim());
            console.log('ë¶„í• ëœ ì¤„ ìˆ˜:', lines.length);
            
            let html = '';
            let currentSection = '';
            let sectionContent = '';
            
            lines.forEach((line, index) => {
                const trimmedLine = line.trim();
                
                // **ìˆ«ì. ì œëª©** í˜•ì‹ì˜ ë©”ì¸ ì„¹ì…˜ (ChatGPT ì‘ë‹µ í˜•ì‹)
                if (trimmedLine.match(/^\*\*\d+\.\s*.*\*\*$/)) {
                    // ì´ì „ ì„¹ì…˜ ë‹«ê¸°
                    if (currentSection) {
                        html += `<div class="section">
                            <div class="main-title">${currentSection}</div>
                            <div class="content-text">${sectionContent}</div>
                            <div class="divider"></div>
                        </div>`;
                        sectionContent = '';
                    }
                    
                    // **ì œëª©** í˜•ì‹ì„ ë©”ì¸ ì„¹ì…˜ìœ¼ë¡œ ì²˜ë¦¬
                    const titleText = trimmedLine.replace(/\*\*/g, '');
                    const sectionNumber = titleText.match(/^(\d+)\./);
                    if (sectionNumber) {
                        const iconMap = {
                            '1': 'ğŸ‘ï¸', '2': 'ğŸ‘ƒ', '3': 'ğŸ‘„', '4': 'âœ¨', '5': 'ğŸ¨', '6': 'ğŸ’‰', '7': 'ğŸ’‡'
                        };
                        const icon = iconMap[sectionNumber[1]] || 'ğŸ“‹';
                        currentSection = `${icon} ${titleText}`;
                    } else {
                        currentSection = titleText;
                    }
                }
                // ### ë§ˆí¬ë‹¤ìš´ ì œëª© (ë°±ì—…ìš©)
                else if (trimmedLine.startsWith('###')) {
                    // ì´ì „ ì„¹ì…˜ ë‹«ê¸°
                    if (currentSection) {
                        html += `<div class="section">
                            <div class="main-title">${currentSection}</div>
                            <div class="content-text">${sectionContent}</div>
                            <div class="divider"></div>
                        </div>`;
                        sectionContent = '';
                    }
                    
                    // ### ì œëª©ì„ ë©”ì¸ ì„¹ì…˜ìœ¼ë¡œ ì²˜ë¦¬
                    const titleText = trimmedLine.replace(/^###\s*/, '');
                    const sectionNumber = titleText.match(/^(\d+)\./);
                    if (sectionNumber) {
                        const iconMap = {
                            '1': 'ğŸ‘ï¸', '2': 'ğŸ‘ƒ', '3': 'ğŸ‘„', '4': 'âœ¨', '5': 'ğŸ¨', '6': 'ğŸ’‰', '7': 'ğŸ’‡'
                        };
                        const icon = iconMap[sectionNumber[1]] || 'ğŸ“‹';
                        currentSection = `${icon} ${titleText}`;
                    } else {
                        currentSection = titleText;
                    }
                }
                // ìˆ«ìë¡œ ì‹œì‘í•˜ëŠ” ì œëª© (1. 2. 3. ë“±) - ì„œë¸Œ ì„¹ì…˜
                else if (/^\d+\./.test(trimmedLine)) {
                    sectionContent += `<div class="subtitle">${trimmedLine}</div>`;
                }
                // **ì œëª©** í˜•ì‹ì˜ ê°•ì¡° í…ìŠ¤íŠ¸ (ì„œë¸Œ ì œëª©)
                else if (trimmedLine.startsWith('**') && trimmedLine.endsWith('**')) {
                    const titleText = trimmedLine.replace(/\*\*/g, '');
                    sectionContent += `<div class="subtitle">${titleText}</div>`;
                }
                // ì½œë¡ ìœ¼ë¡œ ëë‚˜ëŠ” ì†Œì œëª© (ì •ë©´ê¸°ì¤€:, 45ë„/90ë„ ê¸°ì¤€: ë“±)
                else if (trimmedLine.includes(':') && !trimmedLine.includes('**')) {
                    sectionContent += `<div class="subtitle">${trimmedLine}</div>`;
                }
                // ê°•ì¡° í…ìŠ¤íŠ¸ (**í…ìŠ¤íŠ¸**) - ì¼ë°˜ ê°•ì¡°
                else if (trimmedLine.includes('**')) {
                    const formattedLine = trimmedLine.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    sectionContent += `<div class="content-line">${formattedLine}</div>`;
                }
                // ë¹ˆ ì¤„ì´ ì•„ë‹Œ ì¼ë°˜ í…ìŠ¤íŠ¸
                else if (trimmedLine.length > 0) {
                    sectionContent += `<div class="content-line">${trimmedLine}</div>`;
                }
                
                // ë§ˆì§€ë§‰ ì¤„ì¸ ê²½ìš° ì„¹ì…˜ ë‹«ê¸°
                if (index === lines.length - 1) {
                    if (currentSection) {
                        html += `<div class="section">
                            <div class="main-title">${currentSection}</div>
                            <div class="content-text">${sectionContent}</div>
                        </div>`;
                    }
                }
            });
            
            // ì „ì²´ë¥¼ Figma ë””ìì¸ ì»¨í…Œì´ë„ˆë¡œ ê°ì‹¸ê¸°
            const result = `<div class="analysis-result-container">${html}</div>`;
            console.log('formatAnalysisResult ì™„ë£Œ, ìƒì„±ëœ HTML ê¸¸ì´:', result.length);
            console.log('ìµœì¢… HTML:', result);
            return result;
        }

        // 4ë‹¨ê³„ ì´ë¯¸ì§€ ì €ì¥ í•¨ìˆ˜
        async function saveStep4AsImage() {
            try {
                console.log('=== 4ë‹¨ê³„ ì´ë¯¸ì§€ ì €ì¥ ì‹œì‘ ===');
                
                // í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ìœ¼ë¡œ íŒŒì¼ëª… ìƒì„±
                const now = new Date();
                const dateString = now.toISOString().slice(0, 19).replace(/[:-]/g, '');
                
                // 4ë‹¨ê³„ ìº¡ì²˜
                console.log('4ë‹¨ê³„ ìº¡ì²˜ ì‹œì‘...');
                const step4Element = document.getElementById('step-4');
                console.log('4ë‹¨ê³„ ìš”ì†Œ ì°¾ê¸° ê²°ê³¼:', step4Element);
                
                if (step4Element) {
                    // 4ë‹¨ê³„ ì´ë¯¸ì§€ë“¤ì´ ì œëŒ€ë¡œ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
                    const step4Images = step4Element.querySelectorAll('img[id*="step4-uploaded-image"]');
                    console.log('4ë‹¨ê³„ì—ì„œ ì°¾ì€ ì´ë¯¸ì§€ ê°œìˆ˜:', step4Images.length);
                    
                    // ì´ë¯¸ì§€ ë¡œë”© ìƒíƒœ í™•ì¸ ë° ê°•ì œ ë¡œë”©
                    let allImagesLoaded = true;
                    for (let img of step4Images) {
                        console.log(`ì´ë¯¸ì§€ í™•ì¸:`, img.id, 'src:', img.src, 'complete:', img.complete);
                        
                        if (img.src && img.src !== '') {
                            // ì´ë¯¸ì§€ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ê°•ì œë¡œ ë¡œë“œ
                            if (!img.complete) {
                                console.log(`${img.id} ì´ë¯¸ì§€ ë¡œë”© ëŒ€ê¸° ì¤‘...`);
                                await new Promise((resolve, reject) => {
                                    const timeout = setTimeout(() => {
                                        console.warn(`${img.id} ì´ë¯¸ì§€ ë¡œë”© íƒ€ì„ì•„ì›ƒ`);
                                        resolve();
                                    }, 2000);
                                    
                                    img.onload = () => {
                                        clearTimeout(timeout);
                                        console.log(`${img.id} ì´ë¯¸ì§€ ë¡œë”© ì™„ë£Œ`);
                                        resolve();
                                    };
                                    
                                    img.onerror = () => {
                                        clearTimeout(timeout);
                                        console.error(`${img.id} ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨`);
                                        allImagesLoaded = false;
                                        resolve();
                                    };
                                });
                            }
                        } else {
                            console.warn(`${img.id} ì´ë¯¸ì§€ srcê°€ ë¹„ì–´ìˆìŒ`);
                            allImagesLoaded = false;
                        }
                    }
                    
                    console.log('ëª¨ë“  ì´ë¯¸ì§€ ë¡œë”© ìƒíƒœ:', allImagesLoaded);
                    
                    // 4ë‹¨ê³„ë¥¼ í˜„ì¬ í™”ë©´ì— í‘œì‹œëœ ìƒíƒœë¡œ ìº¡ì²˜
                    const canvas4 = await html2canvas(step4Element, {
                        scale: 2, // ê³ í•´ìƒë„ë¡œ ì„¤ì •
                        useCORS: true,
                        allowTaint: true,
                        logging: true, // ë””ë²„ê¹…ì„ ìœ„í•´ ë¡œê¹… í™œì„±í™”
                        removeContainer: false,
                        imageTimeout: 5000, // ì´ë¯¸ì§€ ë¡œë”© ëŒ€ê¸° ì‹œê°„ ì¦ê°€
                        foreignObjectRendering: false,
                        backgroundColor: '#ffffff' // ë°°ê²½ìƒ‰ ì„¤ì •
                    });
                    
                    console.log('4ë‹¨ê³„ ìº”ë²„ìŠ¤ í¬ê¸°:', canvas4.width, 'x', canvas4.height);
                    
                    // 4ë‹¨ê³„ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
                    const fileName4 = `makeup-tips-result-${dateString}.png`;
                    downloadImage(canvas4, fileName4);
                    console.log('4ë‹¨ê³„ ì´ë¯¸ì§€ ì €ì¥ ì™„ë£Œ:', fileName4);
                    
                    // ì„±ê³µ ë©”ì‹œì§€
                    alert('ë©”ì´í¬ì—… íŒ ê²°ê³¼ ì´ë¯¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    
                } else {
                    console.error('4ë‹¨ê³„ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    alert('4ë‹¨ê³„ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
                
            } catch (error) {
                console.error('4ë‹¨ê³„ ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                alert('4ë‹¨ê³„ ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
        function downloadImage(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
            console.log('ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ:', filename);
        }

        // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
        function goToPayment() {
            window.location.href = 'payment.html';
        }
    </script>
</body>
</html>